import{M as R,u as B,r as f,j as e,F as u,Q as w,S as V,f as A,V as j,b as S,c as T,d as F}from"./index-2b5c64d9.js";const _=R.memo(function(k){var v;let{name:L,id:n,SVs:r,children:l,actions:x,callAction:m}=B(k),b=i=>{m({action:x.recordVisibilityChange,args:{isVisible:i}})};if(f.useEffect(()=>()=>{m({action:x.recordVisibilityChange,args:{isVisible:!1}})},[]),r.hidden)return null;let o=f.useRef(null);const C=()=>{o.current="unvalidated",r.justSubmitted&&(r.creditAchieved===1?o.current="correct":r.creditAchieved===0?o.current="incorrect":o.current="partialcorrect")};let y=()=>m({action:x.submitAllAnswers}),s;if(r.titleChildName){for(let[i,p]of l.entries())if(((v=p==null?void 0:p.props)==null?void 0:v.componentInstructions.componentName)===r.titleChildName){s=l[i],l.splice(i,1);break}}s?s=e.jsxs(e.Fragment,{children:[r.titlePrefix,s]}):r.inAList||(s=r.title);let t=null,h=n+"_title";r.collapsible&&(r.open?s=e.jsxs(e.Fragment,{children:[e.jsx(u,{icon:w})," ",s," (click to close)"]}):s=e.jsxs(e.Fragment,{children:[e.jsx(u,{icon:V})," ",s," (click to open)"]}));let d={};switch((r.collapsible||r.boxed)&&(d={marginBlockStart:0,marginBlockEnd:0}),r.level){case 0:t=e.jsx("h1",{id:h,style:d,children:s});break;case 1:t=e.jsx("h2",{id:h,style:d,children:s});break;case 2:t=e.jsx("h3",{id:h,style:d,children:s});break;case 3:t=e.jsx("h4",{id:h,style:d,children:s});break;case 4:t=e.jsx("h5",{id:h,style:d,children:s});break;default:t=e.jsx("h6",{id:h,style:d,children:s});break}let a=null;if(r.createSubmitAllButton&&!r.suppressCheckwork){C();let i={height:"23px",display:"inline-block",backgroundColor:"var(--mainBlue)",padding:"1px 6px 1px 6px",color:"white",fontWeight:"bold",marginBottom:"30px"},p=r.submitLabel;if(r.showCorrectness||(p=r.submitLabelNoCorrectness),a=e.jsxs("button",{id:n+"_submit",tabIndex:"0",style:i,onClick:y,onKeyPress:g=>{g.key==="Enter"&&y()},children:[e.jsx(u,{icon:S,transform:{rotate:90}})," ",p]}),r.showCorrectness){if(o.current==="correct")i.backgroundColor="var(--mainGreen)",a=e.jsxs("span",{id:n+"_correct",style:i,children:[e.jsx(u,{icon:T}),"  Correct"]});else if(o.current==="incorrect")i.backgroundColor="var(--mainRed)",a=e.jsxs("span",{id:n+"_incorrect",style:i,children:[e.jsx(u,{icon:F}),"  Incorrect"]});else if(o.current==="partialcorrect"){i.backgroundColor="var(--mainYellow)";let g=`${Math.round(r.creditAchieved*100)}% Correct`;a=e.jsx("span",{id:n+"_partial",style:i,children:g})}}else o.current!=="unvalidated"&&(i.backgroundColor="var(--mainPurple)",a=e.jsxs("span",{id:n+"_saved",style:i,children:[e.jsx(u,{icon:A}),"  Response Saved"]}));a=e.jsx("div",{children:a})}r.asList&&(l=e.jsx("ol",{children:l.map(i=>e.jsx("li",{children:i}))}));let c=e.jsxs(e.Fragment,{children:[e.jsx("a",{name:n}),t,l,a]});if(r.collapsible){let i=null;r.open&&(i=e.jsxs("div",{style:{display:"block",padding:"6px"},children:[l,a]})),c=e.jsxs("div",{style:{border:"var(--mainBorder)",borderRadius:"var(--mainBorderRadius)",marginTop:"24px"},children:[e.jsxs("div",{style:{backgroundColor:"var(--mainGray)",cursor:"pointer",padding:"6px",borderBottom:r.open?"var(--mainBorder)":"none",borderTopLeftRadius:"var(--mainBorderRadius)",borderTopRightRadius:"var(--mainBorderRadius)"},onClick:()=>m({action:r.open?x.closeSection:x.revealSection}),children:[e.jsx("a",{name:n}),t]}),i]})}else r.boxed&&(c=e.jsxs("div",{style:{border:"var(--mainBorder)",borderRadius:"var(--mainBorderRadius)",marginTop:"24px"},children:[e.jsxs("div",{style:{padding:"6px",borderBottom:"var(--mainBorder)",backgroundColor:"var(--mainGray)",borderTopLeftRadius:"var(--mainBorderRadius)",borderTopRightRadius:"var(--mainBorderRadius)"},children:[e.jsx("a",{name:n}),t]}),e.jsxs("div",{style:{display:"block",padding:"6px"},children:[l,a]})]}));switch(r.containerTag){case"aside":return e.jsx(j,{partialVisibility:!0,onChange:b,children:e.jsxs("aside",{id:n,style:{margin:"12px 0"},children:[" ",c," "]})});case"article":return e.jsx(j,{partialVisibility:!0,onChange:b,children:e.jsxs("article",{id:n,style:{margin:"12px 0"},children:[" ",c," "]})});case"div":return e.jsx(j,{partialVisibility:!0,onChange:b,children:e.jsxs("div",{id:n,style:{margin:"12px 0"},children:[" ",c," "]})});case"none":return e.jsx(e.Fragment,{children:c});default:return e.jsx(j,{partialVisibility:!0,onChange:b,children:e.jsxs("section",{id:n,style:{margin:"12px 0"},children:[" ",c," "]})})}});export{_ as default};
