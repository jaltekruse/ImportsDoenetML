import{z as N,M as k,u as O,r as D,j as r,V as U}from"./index-2b5c64d9.js";const S=N.svg`
  border: "2px solid red";
  margin: 2px;
  outline: none;
`,z=k.memo(function o(b){let{name:c,id:t,SVs:d,actions:i,callAction:l}=O(b),u=d.selectedRowIndex-1,f=d.selectedBoxIndex-1;o.ignoreActionsWithoutCore=()=>!0;let x=D.createRef(d.fixed);x.current=d.fixed;let h=e=>{l({action:i.recordVisibilityChange,args:{isVisible:e}})};if(D.useEffect(()=>()=>{l({action:i.recordVisibilityChange,args:{isVisible:!1}})},[]),d.hidden)return null;function p(e){x.current||l({action:i.selectRow,args:{index:Number(e)+1}})}function n(e,s){x.current||(s!==void 0&&l({action:i.selectRow,args:{index:Number(s)+1}}),l({action:i.selectBox,args:{index:Number(e)+1}}))}function m(e){x.current||l({action:i.updateRowText,args:{newValue:e}})}function a(e){var s,w,v,R,j,y,T,B,A,C;((s=e.relatedTarget)==null?void 0:s.id)!==`orbitaladdrow${t}`&&((w=e.relatedTarget)==null?void 0:w.id)!==`orbitalremoverow${t}`&&((v=e.relatedTarget)==null?void 0:v.id)!==`orbitaladdbox${t}`&&((R=e.relatedTarget)==null?void 0:R.id)!==`orbitaladduparrow${t}`&&((j=e.relatedTarget)==null?void 0:j.id)!==`orbitaladddownarrow${t}`&&((y=e.relatedTarget)==null?void 0:y.id)!==`orbitalremovearrow${t}`&&((T=e.relatedTarget)==null?void 0:T.id)!==`orbitalremovebox${t}`&&(((B=e.relatedTarget)==null?void 0:B.id)!==`OrbitalText${u}${t}`&&((A=e.relatedTarget)==null?void 0:A.id)!==`OrbitalRow${u}${t}`&&((C=e.relatedTarget)==null?void 0:C.id.substring(0,10+t.length))!==`orbitalbox${t}`&&p(-1),n(-1))}let $=[];for(let[e,s]of Object.entries(d.rows)){let w=d.rows.length-e-1;$.push(r.jsx(V,{updateRowText:m,rowNumber:w,selectedRow:u,setSelectedRow:p,orbitalText:s.orbitalText,boxes:s.boxes,selectedBox:f,setSelectedBox:n,deselect:a,name:t},`OrbitalRow${w}`))}let g=null;return d.fixed||(g=r.jsxs("div",{children:[r.jsx("button",{id:`orbitaladdrow${t}`,onBlur:e=>{a(e)},onClick:()=>{l({action:i.addRow})},children:"Add Row"}),r.jsx("button",{id:`orbitalremoverow${t}`,onClick:()=>{l({action:i.removeRow})},children:"Remove Row"}),r.jsx("button",{id:`orbitaladdbox${t}`,onBlur:e=>{a(e)},onClick:()=>{l({action:i.addBox})},children:"Add Box"}),r.jsx("button",{id:`orbitalremovebox${t}`,onBlur:e=>{a(e)},onClick:()=>{l({action:i.removeBox})},children:"Remove Box"}),r.jsx("button",{id:`orbitaladduparrow${t}`,onBlur:e=>{a(e)},onClick:()=>{l({action:i.addUpArrow})},children:"Add Up Arrow"}),r.jsx("button",{id:`orbitaladddownarrow${t}`,onBlur:e=>{a(e)},onClick:()=>{l({action:i.addDownArrow})},children:"Add Down Arrow"}),r.jsx("button",{id:`orbitalremovearrow${t}`,onBlur:e=>{a(e)},onClick:()=>{l({action:i.removeArrow})},children:"Remove Arrow"})]})),r.jsx(U,{partialVisibility:!0,onChange:h,children:r.jsxs(r.Fragment,{children:[g,$]})})}),V=k.memo(function({rowNumber:o,updateRowText:b,selectedRow:c,setSelectedRow:t,orbitalText:d,boxes:i,selectedBox:l,setSelectedBox:u,deselect:f,name:x}){let h={width:"800px",height:"44px",display:"flex",backgroundColor:"#E2E2E2",marginTop:"2px",marginBottom:"2px",padding:"2px",border:"white solid 2px"};c===o&&(h.border="#1A5A99 solid 2px");let p=[];for(let[n,m]of Object.entries(i)){let a=!1;c==o&&l==n&&(a=!0),p.push(r.jsx(E,{boxNum:n,rowNumber:o,arrows:m,isSelected:a,setSelectedBox:u,name:x},`OrbitalBox${o}-${n}`))}return r.jsxs("div",{id:`OrbitalRow${o}${x}`,tabIndex:"-1",onClick:()=>{c!==o&&t(o)},onBlur:n=>{f(n)},style:h,children:[r.jsx(W,{orbitalText:d,rowNumber:o,updateRowText:b,name:x}),p]},`OrbitalRow${o}`)}),W=k.memo(function({rowNumber:o,updateRowText:b,orbitalText:c,name:t}){return r.jsx("input",{id:`OrbitalText${o}${t}`,style:{marginRight:"4px",height:"14px"},type:"text",size:"4",value:c,onChange:d=>{let i=d.target.value;b(i)}})}),E=k.memo(function({boxNum:o,arrows:b="",setSelectedBox:c,isSelected:t,rowNumber:d,name:i}){const l=r.jsx("polyline",{id:`firstUp${o}`,points:"6,14 12,6 18,14 12,6 12,35",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxfirstUp${o}`),u=r.jsx("polyline",{id:`firstDown${o}`,points:"6,26 12,34 18,26 12,34 12,5",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxfirstDown${o}`),f=r.jsx("polyline",{id:`secondUp${o}`,points:"22,14 28,6 34,14 28,6 28,35",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxsecondUp${o}`),x=r.jsx("polyline",{id:`secondDown${o}`,points:"22,26 28,34 34,26 28,34 28,5",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxsecondDown${o}`),h=r.jsx("polyline",{id:`thirdUp${o}`,points:"38,14 44,6 50,14 44,6 44,35",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxthirdUp${o}`),p=r.jsx("polyline",{id:`thirdDown${o}`,points:"38,26 44,34 50,26 44,34 44,5",style:{fill:"none",stroke:"black",strokeWidth:"2"}},`orbitalboxthirdDown${o}`);let n=[],[m,a,$]=b.split("");m=="U"&&n.push(l),m=="D"&&n.push(u),a=="U"&&n.push(f),a=="D"&&n.push(x),$=="U"&&n.push(h),$=="D"&&n.push(p);let g=40;$&&(g=56);let e="black",s="2px";return t&&(e="#1A5A99",s="6px"),r.jsxs(S,{id:`orbitalbox${i}${d}-${o}`,tabIndex:"-1",onClick:w=>{c(o,d),w.stopPropagation()},width:g,height:"40",children:[r.jsx("rect",{x:"0",y:"0",rx:"4",ry:"4",width:g,height:"40",style:{fill:"white",stroke:e,strokeWidth:s,fillOpacity:"1",strokeOpacity:"1"}}),n]},`orbitalbox${o}`)});export{z as default};
