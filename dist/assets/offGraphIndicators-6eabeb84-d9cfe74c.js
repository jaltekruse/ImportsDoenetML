function y(t){let i=!1,n=!1,[r,p,g,l]=t.getBoundingBox();return g<r&&(i=!0,[g,r]=[r,g]),p<l&&(n=!0,[p,l]=[l,p]),{flippedX:i,flippedY:n,xmin:r,xmax:g,ymin:l,ymax:p}}function C(t,i,n=.01){let{flippedX:r,flippedY:p,xmin:g,xmax:l,ymin:f,ymax:h}=y(t),m=r?-1:1,c=p?-1:1,u=l-g,a=h-f,s=g+u*n,o=l-u*n,d=f+a*n,e=h-a*n,b=i[0]*m===1?o:s,x=i[1]*c===1?e:d;return[b,x]}function q(t,i){return i[0]===-1?t.substring(t.length-4,t.length)==="left"?t=t.substring(0,t.length-4)+"right":t==="top"?t="upperright":t==="bottom"&&(t="lowerright"):i[0]===1&&(t.substring(t.length-5,t.length)==="right"?t=t.substring(0,t.length-5)+"left":t==="top"?t="upperleft":t==="bottom"&&(t="lowerleft")),i[1]===-1?t.substring(0,5,t.length)==="lower"?t="upper"+t.substring(5,t.length):t==="left"?t="upperleft":t==="right"&&(t="upperright"):i[1]===1&&(t.substring(0,5,t.length)==="upper"?t="lower"+t.substring(5,t.length):t==="left"?t="lowerleft":t==="right"&&(t="lowerright")),t}function B(t){let i,n,r;return t==="upperright"?(r=[5,5],i="left",n="bottom"):t==="upperleft"?(r=[-5,5],i="right",n="bottom"):t==="lowerright"?(r=[5,-5],i="left",n="top"):t==="lowerleft"?(r=[-5,-5],i="right",n="top"):t==="top"?(r=[0,10],i="middle",n="bottom"):t==="bottom"?(r=[0,-10],i="middle",n="top"):t==="left"?(r=[-10,0],i="right",n="middle"):(r=[10,0],i="left",n="middle"),{offset:r,anchorx:i,anchory:n}}function I(t,i){return i==="diamond"?t*1.4:i==="plus"?t*1.2:i==="square"?t*1.1:i.substring(0,8)==="triangle"?t*1.5:t}function S(t,i){return i[1]===-1?"triangledown":i[1]===1?"triangleup":i[0]===-1?"triangleleft":i[0]===1?"triangleright":t==="triangle"?"triangleup":t}function j(t,i){let{flippedX:n,flippedY:r,xmin:p,xmax:g,ymin:l,ymax:f}=y(i),h=g-p,m=f-l,c=p+h*.01,u=g-h*.01,a=l+m*.01,s=f-m*.01,o=[...t],d=[0,0],e=!1;return o[0]<c?(e=!0,d[0]=n?1:-1,o[0]=c):o[0]>u&&(e=!0,d[0]=n?-1:1,o[0]=u),o[1]<a?(e=!0,d[1]=r?1:-1,o[1]=a):o[1]>s&&(e=!0,d[1]=r?-1:1,o[1]=s),{needIndicator:e,indicatorCoords:o,indicatorSides:d}}function A({center:t,radius:i,directionToCheck:n,board:r}){let{flippedX:p,flippedY:g,xmin:l,xmax:f,ymin:h,ymax:m}=y(r),c=p?-1:1,u=g?-1:1,a=f-l,s=m-h,o=l+a*.01,d=f-a*.01,e=h+s*.01,b=m-s*.01,x=n[0]*c===1?d:o,w=n[1]*u===1?b:e,Y=t[1]-u*n[1]*Math.sqrt(i**2-(x-t[0])**2),X=n[1]*u;return Y*X>w*X?{needIndicator:!0,indicatorSides:n,indicatorCoords:[x,w]}:{needIndicator:!1}}export{I as C,S as L,C as X,q as Y,y as a,B as q,j as v,A as z};
