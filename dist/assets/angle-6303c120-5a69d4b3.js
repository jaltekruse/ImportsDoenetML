import{M as x,u as g,r as o,j as i,a as C}from"./index-2b5c64d9.js";import{BoardContext as y,LINE_LAYER_OFFSET as h}from"./graph-6d43a295-5c8ba528.js";import"./css-ab4d83ca-d016d639.js";const F=x.memo(function(f){let{name:v,id:d,SVs:e}=g(f);const n=o.useContext(y);let s=o.useRef(null),a=o.useRef(null),c=o.useRef(null),r=o.useRef(null),m=o.useRef(null);o.useEffect(()=>()=>{p()},[]);function p(){s.current!==null&&(n.removeObject(r.current),r.current=null,n.removeObject(s.current),s.current=null,n.removeObject(a.current),a.current=null,n.removeObject(c.current),c.current=null)}function b(){if(e.numericalPoints.length!==3||e.numericalPoints.some(R=>R.length!==2)||!(Number.isFinite(e.numericalRadius)&&e.numericalRadius>0))return null;var t={name:e.labelForGraph,visible:!e.hidden,withLabel:e.labelForGraph!=="",fixed:!0,layer:10*e.layer+h,radius:e.numericalRadius,fillColor:e.selectedStyle.fillColor,strokeColor:e.selectedStyle.lineColor,highlight:!1,orthoType:e.emphasizeRightAngle?"square":"sector"};t.label={highlight:!1},e.labelHasLatex&&(t.label.useMathJax=!0),m.current=e.labelForGraph!=="";let l;e.swapPointOrder?l=[[...e.numericalPoints[2]],[...e.numericalPoints[1]],[...e.numericalPoints[0]]]:l=[[...e.numericalPoints[0]],[...e.numericalPoints[1]],[...e.numericalPoints[2]]];let u={visible:!1};return s.current=n.create("point",l[0],u),a.current=n.create("point",l[1],u),c.current=n.create("point",l[2],u),n.create("angle",[s.current,a.current,c.current],t)}if(e.hidden)return null;if(n){if(r.current===null)r.current=b();else if(e.numericalPoints.length!==3||e.numericalPoints.some(t=>t.length!==2)||!(Number.isFinite(e.numericalRadius)&&e.numericalRadius>0))p();else{let t;e.swapPointOrder?t=[[...e.numericalPoints[2]],[...e.numericalPoints[1]],[...e.numericalPoints[0]]]:t=[[...e.numericalPoints[0]],[...e.numericalPoints[1]],[...e.numericalPoints[2]]],r.current.point2.coords.setCoordinates(JXG.COORDS_BY_USER,t[0]),r.current.point1.coords.setCoordinates(JXG.COORDS_BY_USER,t[1]),r.current.point3.coords.setCoordinates(JXG.COORDS_BY_USER,t[2]),r.current.setAttribute({radius:e.numericalRadius,visible:!e.hidden});let l=10*e.layer+h;r.current.visProp.layer!==l&&r.current.setAttribute({layer:l}),r.current.visProp.fillcolor!==e.selectedStyle.fillColor&&(r.current.visProp.fillcolor=e.selectedStyle.fillColor),r.current.visProp.strokecolor!==e.selectedStyle.lineColor&&(r.current.visProp.strokecolor=e.selectedStyle.lineColor),r.current.name=e.labelForGraph;let u=e.labelForGraph!=="";u!=m.current&&(r.current.setAttribute({withlabel:u}),m.current=u),r.current.visProp.orthotype=e.emphasizeRightAngle?"square":"sector",r.current.needsUpdate=!0,r.current.update(),r.current.hasLabel&&(r.current.label.needsUpdate=!0,r.current.label.update()),n.updateRenderer()}return i.jsx(i.Fragment,{children:i.jsx("a",{name:d})})}let P="\\("+e.latexForRenderer+"\\)";return i.jsxs(i.Fragment,{children:[i.jsx("a",{name:d}),i.jsx("span",{id:d,children:i.jsx(C,{hideUntilTypeset:"first",inline:!0,dynamic:!0,children:P})})]})});export{F as default};
